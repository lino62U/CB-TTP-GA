# Etapa 1: Construcci贸n
FROM node:20-alpine AS build

WORKDIR /usr/src/app

COPY package*.json ./
RUN npm install

COPY . .

# Construir la aplicaci贸n (si es modo producci贸n)
RUN npm run build

# Etapa 2: Ejecuci贸n (modo desarrollo con hot reload)
FROM node:20-alpine

WORKDIR /usr/src/app
COPY --from=build /usr/src/app ./

EXPOSE 3000

CMD ["npm", "run", "dev"]
